openapi: 3.0.3
info:
  title: Mindplex API
  description: Backend for Mindplex-Multiplatform App
  version: "1.0.0"
  contact:
    name: "Mindplex Support"
    url: ""
    email: "kirillborichevskiy@gmail.com"

servers:
  - url: http://localhost:8080
    description: Local dev
  - url: https://mindplex-backend.onrender.com
    description: Render server

paths:
  /questions:
    get:
      tags:
        - "Questions"
      summary: "Get Questions"
      description: "Returns a list of questions."
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Question'
  /facts:
    get:
      tags:
        - "Facts"
      summary: "Get Facts"
      description: "Returns a list of facts. Optional query parameter 'limit' defines the maximum number of facts to return (default is 3)."
      parameters:
        - in: query
          name: limit
          required: false
          schema:
            type: integer
            default: 3
          description: "Optional limit on the number of facts returned"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Fact'
  /country:
    get:
      tags:
        - "Country"
      summary: "Get Country Code"
      description: >
        Returns a country code based on the client's IP address.
        The endpoint retrieves the remote host IP from the request
        and uses it to fetch the corresponding country code.
      responses:
        '200':
          description: "Successful response, returns the country code."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CountryCode'
        '502':
          description: "Bad Gateway - Failed to get country code."

components:
  schemas:
    Question:
      type: object
      properties:
        type:
          type: string
        difficulty:
          type: string
        category:
          type: string
        question:
          type: string
        correct_answer:
          type: string
        incorrect_answers:
          type: array
          items:
            type: string
    Fact:
      type: object
      properties:
        fact:
          type: string
    CountryCode:
      type: object
      properties:
        countryCode:
          type: string
